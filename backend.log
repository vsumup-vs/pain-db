
> pain-db-platform@1.0.0 dev
> nodemon index.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-25T17:38:28.850Z - GET /api/metric-definitions
2025-09-25T17:38:28.961Z - GET /api/metric-definitions
2025-09-25T17:38:31.178Z - GET /api/patients/stats
2025-09-25T17:38:31.193Z - GET /api/clinicians/stats
2025-09-25T17:38:31.197Z - GET /api/alerts/stats
2025-09-25T17:38:31.200Z - GET /api/patients/recent
Error fetching alert stats: PrismaClientKnownRequestError: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42601`. Message: `ERROR: syntax error at or near "$2"`
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:7268)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:398:27) {
  code: 'P2010',
  meta: { code: '42601', message: 'ERROR: syntax error at or near "$2"' },
  clientVersion: '6.16.2'
}
2025-09-25T17:38:31.509Z - GET /api/alerts/recent
2025-09-25T17:38:32.642Z - GET /api/alerts/stats
Error fetching alert stats: PrismaClientKnownRequestError: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42601`. Message: `ERROR: syntax error at or near "$2"`
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:7268)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:398:27) {
  code: 'P2010',
  meta: { code: '42601', message: 'ERROR: syntax error at or near "$2"' },
  clientVersion: '6.16.2'
}
2025-09-25T17:38:33.602Z - GET /api/patients
2025-09-25T17:38:35.440Z - GET /api/clinicians
2025-09-25T17:38:36.489Z - GET /api/metric-definitions
2025-09-25T17:38:36.817Z - GET /api/metric-definitions
2025-09-25T17:38:37.743Z - GET /api/assessment-templates
2025-09-25T17:38:38.053Z - GET /api/metric-definitions
2025-09-25T17:38:39.302Z - GET /api/observations
2025-09-25T17:38:40.717Z - GET /api/alerts
2025-09-25T17:38:42.590Z - GET /api/enrollments
2025-09-25T17:38:42.591Z - GET /api/patients
2025-09-25T17:38:42.593Z - GET /api/clinicians
2025-09-25T17:38:42.594Z - GET /api/condition-presets
2025-09-25T17:39:05.453Z - GET /api/alerts
2025-09-25T17:39:13.368Z - GET /api/observations
2025-09-25T17:39:14.301Z - GET /api/assessment-templates
2025-09-25T17:39:14.611Z - GET /api/metric-definitions
[32m[nodemon] restarting child process[39m
[32m[nodemon] restarting child process[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T02:34:07.850Z - GET /api/assessment-templates
2025-09-26T02:34:07.866Z - GET /api/metric-definitions
2025-09-26T04:15:27.533Z - GET /api/patients/stats
2025-09-26T04:15:27.609Z - GET /api/clinicians/stats
2025-09-26T04:15:27.621Z - GET /api/alerts/stats
2025-09-26T04:15:27.625Z - GET /api/patients/recent
2025-09-26T04:15:27.632Z - GET /api/alerts/recent
Error fetching alert stats: PrismaClientKnownRequestError: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42601`. Message: `ERROR: syntax error at or near "$2"`
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:7268)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:398:27) {
  code: 'P2010',
  meta: { code: '42601', message: 'ERROR: syntax error at or near "$2"' },
  clientVersion: '6.16.2'
}
2025-09-26T04:15:28.855Z - GET /api/alerts/stats
Error fetching alert stats: PrismaClientKnownRequestError: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42601`. Message: `ERROR: syntax error at or near "$2"`
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:7268)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:398:27) {
  code: 'P2010',
  meta: { code: '42601', message: 'ERROR: syntax error at or near "$2"' },
  clientVersion: '6.16.2'
}
2025-09-26T04:30:10.483Z - GET /api/patients
2025-09-26T04:30:12.103Z - GET /api/clinicians
2025-09-26T04:30:17.239Z - GET /api/patients
2025-09-26T04:30:19.604Z - GET /api/clinicians
2025-09-26T04:30:20.694Z - GET /api/metric-definitions
2025-09-26T04:30:20.975Z - GET /api/metric-definitions
2025-09-26T04:30:22.612Z - GET /api/assessment-templates
2025-09-26T04:30:22.954Z - GET /api/metric-definitions
2025-09-26T04:30:24.843Z - GET /api/observations
2025-09-26T04:30:26.291Z - GET /api/alerts
2025-09-26T04:30:26.349Z - GET /api/enrollments
2025-09-26T04:30:26.354Z - GET /api/patients
2025-09-26T04:30:26.358Z - GET /api/clinicians
2025-09-26T04:30:26.364Z - GET /api/condition-presets
2025-09-26T04:30:29.434Z - GET /api/patients/stats
2025-09-26T04:30:29.771Z - GET /api/clinicians/stats
2025-09-26T04:30:29.779Z - GET /api/alerts/stats
2025-09-26T04:30:29.782Z - GET /api/patients/recent
2025-09-26T04:30:29.786Z - GET /api/alerts/recent
Error fetching alert stats: PrismaClientKnownRequestError: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42601`. Message: `ERROR: syntax error at or near "$2"`
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:7268)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:398:27) {
  code: 'P2010',
  meta: { code: '42601', message: 'ERROR: syntax error at or near "$2"' },
  clientVersion: '6.16.2'
}
2025-09-26T04:30:30.475Z - GET /api/patients
2025-09-26T04:32:36.921Z - GET /api/metric-definitions
2025-09-26T04:32:37.183Z - GET /api/metric-definitions
2025-09-26T04:33:27.559Z - GET /api/assessment-templates
2025-09-26T04:33:27.893Z - GET /api/metric-definitions
2025-09-26T04:33:29.829Z - GET /api/enrollments
2025-09-26T04:33:29.834Z - GET /api/patients
2025-09-26T04:33:29.837Z - GET /api/clinicians
2025-09-26T04:33:29.842Z - GET /api/condition-presets
2025-09-26T04:33:49.389Z - GET /api/assessment-templates
2025-09-26T04:33:49.724Z - GET /api/metric-definitions
2025-09-26T04:34:18.381Z - GET /api/observations
2025-09-26T04:34:19.273Z - GET /api/enrollments
2025-09-26T04:34:19.597Z - GET /api/patients
2025-09-26T04:34:19.606Z - GET /api/clinicians
2025-09-26T04:34:19.608Z - GET /api/condition-presets
2025-09-26T04:43:14.456Z - GET /api/condition-presets
2025-09-26T04:43:14.465Z - GET /api/assessment-templates
2025-09-26T04:43:31.917Z - PUT /api/condition-presets/2b54639e-ec0a-4d4a-be41-32dd4ebc09a1
Error updating condition preset: PrismaClientValidationError: 
Invalid `prisma.conditionPreset.update()` invocation in
/home/vsumup/pain-db/src/controllers/conditionPresetController.js:316:49

  313   };
  314 }
  315 
â†’ 316 const preset = await prisma.conditionPreset.update({
        where: {
          id: "2b54639e-ec0a-4d4a-be41-32dd4ebc09a1"
        },
        data: {
          name: "Arthritis Management",
          description: "",
          ~~~~~~~~~~~
          diagnoses: {
            deleteMany: {},
            create: [
              {
                code: undefined,
                description: undefined
              },
              {
                code: undefined,
                description: undefined
              },
              {
                code: undefined,
                description: undefined
              },
              {
                code: undefined,
                description: undefined
              }
            ]
          },
          templates: {
            deleteMany: {},
            create: []
          },
      ?   id?: String | StringFieldUpdateOperationsInput,
      ?   defaultProtocolId?: String | NullableStringFieldUpdateOperationsInput | Null,
      ?   createdAt?: DateTime | DateTimeFieldUpdateOperationsInput,
      ?   alertRules?: ConditionPresetAlertRuleUpdateManyWithoutPresetNestedInput,
      ?   enrollments?: EnrollmentUpdateManyWithoutPresetNestedInput
        },
        include: {
          diagnoses: true,
          templates: {
            include: {
              template: {
                select: {
                  id: true,
                  name: true
                }
              }
            }
          },
          alertRules: {
            include: {
              rule: {
                select: {
                  id: true,
                  name: true,
                  severity: true
                }
              }
            }
          }
        }
      })

Unknown argument `description`. Available options are marked with ?.
    at Nn (/home/vsumup/pain-db/generated/prisma/runtime/library.js:32:1363)
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6911)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async updateConditionPreset (/home/vsumup/pain-db/src/controllers/conditionPresetController.js:316:20) {
  clientVersion: '6.16.2'
}
2025-09-26T04:44:39.521Z - GET /api/patients/stats
2025-09-26T04:44:39.551Z - GET /api/clinicians/stats
2025-09-26T04:44:39.557Z - GET /api/alerts/stats
2025-09-26T04:44:39.563Z - GET /api/patients/recent
2025-09-26T04:44:39.568Z - GET /api/alerts/recent
Error fetching alert stats: PrismaClientKnownRequestError: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42601`. Message: `ERROR: syntax error at or near "$2"`
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:7268)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:398:27) {
  code: 'P2010',
  meta: { code: '42601', message: 'ERROR: syntax error at or near "$2"' },
  clientVersion: '6.16.2'
}
2025-09-26T04:44:40.665Z - GET /api/alerts/stats
Error fetching alert stats: PrismaClientKnownRequestError: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42601`. Message: `ERROR: syntax error at or near "$2"`
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:7268)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:398:27) {
  code: 'P2010',
  meta: { code: '42601', message: 'ERROR: syntax error at or near "$2"' },
  clientVersion: '6.16.2'
}
2025-09-26T04:44:54.635Z - GET /api/condition-presets
2025-09-26T04:44:54.637Z - GET /api/assessment-templates
2025-09-26T04:45:24.192Z - GET /api/metric-definitions
2025-09-26T04:45:24.541Z - GET /api/metric-definitions
2025-09-26T04:48:21.704Z - GET /api/assessment-templates
2025-09-26T04:48:21.708Z - GET /api/metric-definitions
2025-09-26T04:49:33.850Z - GET /api/condition-presets
2025-09-26T04:49:33.854Z - GET /api/assessment-templates
2025-09-26T04:49:59.176Z - PUT /api/condition-presets/990e8400-e29b-41d4-a716-446655440001
Error updating condition preset: PrismaClientValidationError: 
Invalid `prisma.conditionPreset.update()` invocation in
/home/vsumup/pain-db/src/controllers/conditionPresetController.js:316:49

  313   };
  314 }
  315 
â†’ 316 const preset = await prisma.conditionPreset.update({
        where: {
          id: "990e8400-e29b-41d4-a716-446655440001"
        },
        data: {
          name: "Chronic Lower Back Pain",
          description: "",
          ~~~~~~~~~~~
          diagnoses: {
            deleteMany: {},
            create: [
              {
                code: undefined,
                description: undefined
              }
            ]
          },
          templates: {
            deleteMany: {},
            create: [
              {
                templateId: "880e8400-e29b-41d4-a716-446655440001"
              },
              {
                templateId: "dda42e87-5598-44df-98ef-11b73e4e21b4"
              }
            ]
          },
      ?   id?: String | StringFieldUpdateOperationsInput,
      ?   defaultProtocolId?: String | NullableStringFieldUpdateOperationsInput | Null,
      ?   createdAt?: DateTime | DateTimeFieldUpdateOperationsInput,
      ?   alertRules?: ConditionPresetAlertRuleUpdateManyWithoutPresetNestedInput,
      ?   enrollments?: EnrollmentUpdateManyWithoutPresetNestedInput
        },
        include: {
          diagnoses: true,
          templates: {
            include: {
              template: {
                select: {
                  id: true,
                  name: true
                }
              }
            }
          },
          alertRules: {
            include: {
              rule: {
                select: {
                  id: true,
                  name: true,
                  severity: true
                }
              }
            }
          }
        }
      })

Unknown argument `description`. Available options are marked with ?.
    at Nn (/home/vsumup/pain-db/generated/prisma/runtime/library.js:32:1363)
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6911)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async updateConditionPreset (/home/vsumup/pain-db/src/controllers/conditionPresetController.js:316:20) {
  clientVersion: '6.16.2'
}
2025-09-26T04:50:40.038Z - GET /api/alerts
2025-09-26T04:51:06.033Z - GET /api/enrollments
2025-09-26T04:51:06.374Z - GET /api/patients
2025-09-26T04:51:06.377Z - GET /api/clinicians
2025-09-26T04:51:06.380Z - GET /api/condition-presets
2025-09-26T04:51:47.395Z - GET /api/observations
2025-09-26T04:51:56.935Z - GET /api/condition-presets
2025-09-26T04:51:57.258Z - GET /api/assessment-templates
2025-09-26T04:51:59.193Z - GET /api/metric-definitions
2025-09-26T04:51:59.195Z - GET /api/metric-definitions
2025-09-26T04:53:07.454Z - GET /api/enrollments
2025-09-26T04:53:07.459Z - GET /api/patients
2025-09-26T04:53:07.464Z - GET /api/clinicians
2025-09-26T04:53:07.468Z - GET /api/condition-presets
2025-09-26T04:53:56.102Z - GET /api/assessment-templates
2025-09-26T04:53:56.422Z - GET /api/metric-definitions
2025-09-26T04:54:01.676Z - GET /api/condition-presets
2025-09-26T04:54:01.680Z - GET /api/assessment-templates
2025-09-26T04:54:05.325Z - GET /api/metric-definitions
2025-09-26T04:54:05.659Z - GET /api/metric-definitions
2025-09-26T04:56:14.054Z - GET /api/enrollments
2025-09-26T04:56:14.066Z - GET /api/patients
2025-09-26T04:56:14.070Z - GET /api/clinicians
2025-09-26T04:56:14.074Z - GET /api/condition-presets
2025-09-26T04:57:14.224Z - GET /api/condition-presets
2025-09-26T04:57:14.550Z - GET /api/assessment-templates
2025-09-26T04:58:41.206Z - GET /api/assessment-templates
2025-09-26T04:58:41.210Z - GET /api/metric-definitions
2025-09-26T05:00:31.024Z - GET /api/alerts
2025-09-26T05:00:51.318Z - GET /api/condition-presets
2025-09-26T05:00:51.652Z - GET /api/assessment-templates
2025-09-26T05:03:05.992Z - PUT /api/condition-presets/5b5f7e1d-2085-426b-9fda-ef9d6d16b7dd
Error updating condition preset: PrismaClientValidationError: 
Invalid `prisma.conditionPreset.update()` invocation in
/home/vsumup/pain-db/src/controllers/conditionPresetController.js:316:49

  313   };
  314 }
  315 
â†’ 316 const preset = await prisma.conditionPreset.update({
        where: {
          id: "5b5f7e1d-2085-426b-9fda-ef9d6d16b7dd"
        },
        data: {
          name: "Medication Adherence Monitoring",
          description: "",
          ~~~~~~~~~~~
          diagnoses: {
            deleteMany: {},
            create: [
              {
                code: undefined,
                description: undefined
              },
              {
                code: undefined,
                description: undefined
              },
              {
                code: undefined,
                description: undefined
              }
            ]
          },
          templates: {
            deleteMany: {},
            create: [
              {
                templateId: "880e8400-e29b-41d4-a716-446655440001"
              },
              {
                templateId: "dda42e87-5598-44df-98ef-11b73e4e21b4"
              },
              {
                templateId: "be366d8d-ca9f-4802-b7ea-48255ed21eb7"
              }
            ]
          },
      ?   id?: String | StringFieldUpdateOperationsInput,
      ?   defaultProtocolId?: String | NullableStringFieldUpdateOperationsInput | Null,
      ?   createdAt?: DateTime | DateTimeFieldUpdateOperationsInput,
      ?   alertRules?: ConditionPresetAlertRuleUpdateManyWithoutPresetNestedInput,
      ?   enrollments?: EnrollmentUpdateManyWithoutPresetNestedInput
        },
        include: {
          diagnoses: true,
          templates: {
            include: {
              template: {
                select: {
                  id: true,
                  name: true
                }
              }
            }
          },
          alertRules: {
            include: {
              rule: {
                select: {
                  id: true,
                  name: true,
                  severity: true
                }
              }
            }
          }
        }
      })

Unknown argument `description`. Available options are marked with ?.
    at Nn (/home/vsumup/pain-db/generated/prisma/runtime/library.js:32:1363)
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6911)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async updateConditionPreset (/home/vsumup/pain-db/src/controllers/conditionPresetController.js:316:20) {
  clientVersion: '6.16.2'
}
2025-09-26T05:04:18.179Z - GET /api/clinicians
2025-09-26T05:04:26.698Z - GET /api/patients
2025-09-26T05:04:37.256Z - GET /api/patients/stats
2025-09-26T05:04:37.270Z - GET /api/clinicians/stats
2025-09-26T05:04:37.273Z - GET /api/alerts/stats
2025-09-26T05:04:37.277Z - GET /api/patients/recent
2025-09-26T05:04:37.281Z - GET /api/alerts/recent
Error fetching alert stats: PrismaClientKnownRequestError: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42601`. Message: `ERROR: syntax error at or near "$2"`
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:7268)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:398:27) {
  code: 'P2010',
  meta: { code: '42601', message: 'ERROR: syntax error at or near "$2"' },
  clientVersion: '6.16.2'
}
2025-09-26T05:04:38.392Z - GET /api/alerts/stats
Error fetching alert stats: PrismaClientKnownRequestError: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42601`. Message: `ERROR: syntax error at or near "$2"`
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:7268)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:398:27) {
  code: 'P2010',
  meta: { code: '42601', message: 'ERROR: syntax error at or near "$2"' },
  clientVersion: '6.16.2'
}
2025-09-26T05:04:44.170Z - GET /api/observations
2025-09-26T05:05:04.726Z - GET /api/patients
2025-09-26T05:05:08.657Z - GET /api/clinicians
2025-09-26T05:05:12.156Z - GET /api/condition-presets
2025-09-26T05:05:12.482Z - GET /api/assessment-templates
2025-09-26T05:05:15.084Z - GET /api/metric-definitions
2025-09-26T05:05:15.093Z - GET /api/metric-definitions
2025-09-26T05:05:16.070Z - GET /api/assessment-templates
2025-09-26T05:05:16.405Z - GET /api/metric-definitions
2025-09-26T05:05:17.767Z - GET /api/alerts
2025-09-26T05:05:24.257Z - GET /api/observations
2025-09-26T05:05:26.140Z - GET /api/enrollments
2025-09-26T05:05:26.145Z - GET /api/patients
2025-09-26T05:05:26.148Z - GET /api/clinicians
2025-09-26T05:05:26.151Z - GET /api/condition-presets
2025-09-26T05:06:04.284Z - GET /api/observations
2025-09-26T05:06:43.097Z - GET /api/alerts
2025-09-26T05:06:43.779Z - GET /api/enrollments
2025-09-26T05:06:44.104Z - GET /api/patients
2025-09-26T05:06:44.107Z - GET /api/clinicians
2025-09-26T05:06:44.117Z - GET /api/condition-presets
2025-09-26T05:08:06.994Z - GET /api/condition-presets
2025-09-26T05:08:06.996Z - GET /api/assessment-templates
2025-09-26T05:09:53.442Z - GET /api/enrollments
2025-09-26T05:09:53.476Z - GET /api/patients
2025-09-26T05:09:53.480Z - GET /api/clinicians
2025-09-26T05:09:53.483Z - GET /api/condition-presets
2025-09-26T05:10:23.467Z - GET /api/condition-presets
2025-09-26T05:10:23.819Z - GET /api/assessment-templates
2025-09-26T05:10:42.488Z - GET /api/enrollments
2025-09-26T05:10:42.491Z - GET /api/patients
2025-09-26T05:10:42.494Z - GET /api/clinicians
2025-09-26T05:10:42.499Z - GET /api/condition-presets
2025-09-26T05:12:55.270Z - GET /api/condition-presets
2025-09-26T05:12:55.273Z - GET /api/assessment-templates
2025-09-26T05:13:03.062Z - GET /api/metric-definitions
2025-09-26T05:13:03.385Z - GET /api/metric-definitions
2025-09-26T05:13:06.969Z - GET /api/metric-definitions
2025-09-26T05:13:06.972Z - GET /api/assessment-templates
2025-09-26T05:14:00.507Z - GET /api/metric-definitions
2025-09-26T05:14:00.841Z - GET /api/metric-definitions
2025-09-26T05:17:02.622Z - GET /api/assessment-templates
2025-09-26T05:17:02.623Z - GET /api/metric-definitions
2025-09-26T05:17:04.423Z - GET /api/condition-presets
2025-09-26T05:17:04.749Z - GET /api/assessment-templates
2025-09-26T05:18:35.379Z - GET /api/metric-definitions
2025-09-26T05:18:35.389Z - GET /api/metric-definitions
2025-09-26T05:28:51.034Z - GET /api/patients/stats
2025-09-26T05:28:51.050Z - GET /api/clinicians/stats
2025-09-26T05:28:51.053Z - GET /api/alerts/stats
2025-09-26T05:28:51.058Z - GET /api/patients/recent
2025-09-26T05:28:51.066Z - GET /api/alerts/recent
Error fetching alert stats: PrismaClientKnownRequestError: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42601`. Message: `ERROR: syntax error at or near "$2"`
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:7268)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:398:27) {
  code: 'P2010',
  meta: { code: '42601', message: 'ERROR: syntax error at or near "$2"' },
  clientVersion: '6.16.2'
}
2025-09-26T05:28:52.199Z - GET /api/alerts/stats
Error fetching alert stats: PrismaClientKnownRequestError: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42601`. Message: `ERROR: syntax error at or near "$2"`
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:7268)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:398:27) {
  code: 'P2010',
  meta: { code: '42601', message: 'ERROR: syntax error at or near "$2"' },
  clientVersion: '6.16.2'
}
2025-09-26T05:28:53.200Z - GET /api/patients
2025-09-26T05:28:54.902Z - GET /api/clinicians
2025-09-26T05:28:57.699Z - GET /api/condition-presets
2025-09-26T05:28:57.701Z - GET /api/assessment-templates
2025-09-26T05:35:41.627Z - GET /api/enrollments
2025-09-26T05:35:41.636Z - GET /api/patients
2025-09-26T05:35:41.641Z - GET /api/clinicians
2025-09-26T05:35:41.644Z - GET /api/condition-presets
2025-09-26T05:35:43.835Z - GET /api/condition-presets
2025-09-26T05:35:44.161Z - GET /api/assessment-templates
2025-09-26T05:35:45.506Z - GET /api/metric-definitions
2025-09-26T05:35:45.508Z - GET /api/metric-definitions
2025-09-26T05:35:47.353Z - GET /api/condition-presets
2025-09-26T05:35:47.688Z - GET /api/assessment-templates
2025-09-26T05:35:50.802Z - GET /api/metric-definitions
2025-09-26T05:35:50.816Z - GET /api/metric-definitions
2025-09-26T05:35:51.333Z - GET /api/assessment-templates
2025-09-26T05:35:51.667Z - GET /api/metric-definitions
2025-09-26T05:35:52.916Z - GET /api/condition-presets
2025-09-26T05:35:52.917Z - GET /api/assessment-templates
2025-09-26T05:36:37.058Z - GET /api/metric-definitions
2025-09-26T05:36:37.381Z - GET /api/metric-definitions
2025-09-26T05:36:39.157Z - GET /api/condition-presets
2025-09-26T05:36:39.158Z - GET /api/assessment-templates
2025-09-26T05:36:39.840Z - GET /api/assessment-templates
2025-09-26T05:36:40.165Z - GET /api/metric-definitions
2025-09-26T05:36:43.654Z - GET /api/condition-presets
2025-09-26T05:36:43.655Z - GET /api/assessment-templates
2025-09-26T05:37:01.129Z - GET /api/metric-definitions
2025-09-26T05:37:01.461Z - GET /api/metric-definitions
2025-09-26T05:37:02.628Z - GET /api/assessment-templates
2025-09-26T05:37:02.641Z - GET /api/metric-definitions
2025-09-26T05:37:30.641Z - GET /api/alerts
2025-09-26T05:41:12.879Z - GET /api/metric-definitions
2025-09-26T05:41:12.886Z - GET /api/metric-definitions
2025-09-26T05:41:12.415Z - GET /api/assessment-templates
2025-09-26T05:41:12.745Z - GET /api/metric-definitions
2025-09-26T05:41:15.288Z - GET /api/condition-presets
2025-09-26T05:41:15.292Z - GET /api/assessment-templates
2025-09-26T06:13:27.497Z - GET /api/alerts
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
node:internal/modules/cjs/loader:1386
  throw err;
  ^

Error: Cannot find module './src/routes/alertRuleRoutes'
Require stack:
- /home/vsumup/pain-db/index.js
    at Function._resolveFilename (node:internal/modules/cjs/loader:1383:15)
    at defaultResolveImpl (node:internal/modules/cjs/loader:1025:19)
    at resolveForCJSWithHooks (node:internal/modules/cjs/loader:1030:22)
    at Function._load (node:internal/modules/cjs/loader:1192:37)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)
    at wrapModuleLoad (node:internal/modules/cjs/loader:237:24)
    at Module.require (node:internal/modules/cjs/loader:1463:12)
    at require (node:internal/modules/helpers:147:16)
    at Object.<anonymous> (/home/vsumup/pain-db/index.js:30:25)
    at Module._compile (node:internal/modules/cjs/loader:1706:14) {
  code: 'MODULE_NOT_FOUND',
  requireStack: [ '/home/vsumup/pain-db/index.js' ]
}

Node.js v22.19.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
/home/vsumup/pain-db/node_modules/router/index.js:392
      throw new TypeError('argument handler must be a function')
      ^

TypeError: argument handler must be a function
    at Function.use (/home/vsumup/pain-db/node_modules/router/index.js:392:13)
    at Function.<anonymous> (/home/vsumup/pain-db/node_modules/express/lib/application.js:222:21)
    at Array.forEach (<anonymous>)
    at Function.use (/home/vsumup/pain-db/node_modules/express/lib/application.js:219:7)
    at Object.<anonymous> (/home/vsumup/pain-db/index.js:85:5)
    at Module._compile (node:internal/modules/cjs/loader:1706:14)
    at Object..js (node:internal/modules/cjs/loader:1839:10)
    at Module.load (node:internal/modules/cjs/loader:1441:32)
    at Function._load (node:internal/modules/cjs/loader:1263:12)
    at TracingChannel.traceSync (node:diagnostics_channel:322:14)

Node.js v22.19.0
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T06:22:05.934Z - GET /api/alerts
2025-09-26T06:24:00.191Z - GET /api/alert-rules
2025-09-26T06:24:00.520Z - GET /api/alert-rules/stats
2025-09-26T06:24:17.392Z - GET /api/alert-rules/templates
2025-09-26T06:24:36.143Z - GET /api/alert-rules/templates
2025-09-26T06:25:23.564Z - GET /api/alert-rules
2025-09-26T06:25:26.470Z - GET /api/alert-rules
2025-09-26T06:25:29.462Z - GET /api/alert-rules
2025-09-26T06:25:31.978Z - GET /api/alert-rules
2025-09-26T06:25:35.975Z - GET /api/alert-rules
2025-09-26T06:25:53.006Z - GET /api/alert-rules/templates
2025-09-26T06:34:57.229Z - GET /api/alert-rules
2025-09-26T06:34:57.234Z - GET /api/alert-rules/stats
2025-09-26T06:35:37.628Z - GET /api/alert-rules
2025-09-26T06:35:37.743Z - GET /api/alert-rules/stats
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T06:38:54.874Z - GET /api/alert-rules
2025-09-26T06:38:54.893Z - GET /api/alert-rules/stats
2025-09-26T06:40:05.781Z - GET /api/alert-rules
2025-09-26T06:40:05.784Z - GET /api/alert-rules/stats
2025-09-26T06:40:49.202Z - GET /api/alerts
2025-09-26T06:40:51.707Z - GET /api/alert-rules
2025-09-26T06:40:51.712Z - GET /api/alert-rules/stats
2025-09-26T06:41:52.805Z - GET /api/alert-rules
2025-09-26T06:41:52.808Z - GET /api/alert-rules/stats
2025-09-26T06:42:22.674Z - GET /api/alerts
2025-09-26T06:42:25.071Z - GET /api/alert-rules
2025-09-26T06:42:25.075Z - GET /api/alert-rules/stats
2025-09-26T06:43:28.973Z - GET /api/alert-rules
2025-09-26T06:43:28.978Z - GET /api/alert-rules/stats
2025-09-26T06:43:35.129Z - GET /api/alert-rules
2025-09-26T06:43:35.132Z - GET /api/alert-rules/stats
2025-09-26T06:43:38.431Z - GET /api/alert-rules/templates
2025-09-26T06:48:37.712Z - GET /api/enrollments
2025-09-26T06:48:37.872Z - GET /api/patients
2025-09-26T06:48:37.883Z - GET /api/clinicians
2025-09-26T06:48:37.884Z - GET /api/condition-presets
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T07:02:16.063Z - GET /api/enrollments
2025-09-26T07:02:16.079Z - GET /api/patients
2025-09-26T07:02:16.102Z - GET /api/clinicians
2025-09-26T07:02:16.107Z - GET /api/condition-presets
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T07:09:25.221Z - GET /api/enrollments
2025-09-26T07:09:25.238Z - GET /api/patients
2025-09-26T07:09:25.284Z - GET /api/clinicians
2025-09-26T07:09:25.298Z - GET /api/condition-presets
2025-09-26T07:09:48.963Z - GET /api/drugs
2025-09-26T07:10:56.214Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376
2025-09-26T07:10:56.217Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
2025-09-26T07:10:56.241Z - GET /api/alerts
2025-09-26T07:10:57.242Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
2025-09-26T07:14:16.815Z - GET /api/enrollments
2025-09-26T07:14:16.817Z - GET /api/patients
2025-09-26T07:14:16.820Z - GET /api/clinicians
2025-09-26T07:14:16.823Z - GET /api/condition-presets
2025-09-26T07:14:24.434Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376
2025-09-26T07:14:24.749Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
2025-09-26T07:14:24.750Z - GET /api/alerts
2025-09-26T07:14:26.070Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T07:15:52.222Z - GET /api/enrollments
2025-09-26T07:15:52.228Z - GET /api/patients
2025-09-26T07:15:52.239Z - GET /api/clinicians
2025-09-26T07:15:52.242Z - GET /api/condition-presets
2025-09-26T07:16:02.441Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376
2025-09-26T07:16:02.755Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
2025-09-26T07:16:02.758Z - GET /api/alerts
Error fetching enrollment medication summary: PrismaClientValidationError: 
Invalid `prisma.enrollment.findUnique()` invocation in
/home/vsumup/pain-db/src/controllers/medicationEnrollmentController.js:92:48

  89 try {
  90   const { enrollmentId } = req.params;
  91 
â†’ 92   const enrollment = await prisma.enrollment.findUnique({
         where: {
           id: undefined,
       ?   AND?: EnrollmentWhereInput | EnrollmentWhereInput[],
       ?   OR?: EnrollmentWhereInput[],
       ?   NOT?: EnrollmentWhereInput | EnrollmentWhereInput[],
       ?   patientId?: UuidFilter | String,
       ?   presetId?: UuidFilter | String,
       ?   diagnosisCode?: StringFilter | String,
       ?   clinicianId?: UuidNullableFilter | String | Null,
       ?   startDate?: DateTimeFilter | DateTime,
       ?   endDate?: DateTimeNullableFilter | DateTime | Null,
       ?   status?: EnumEnrollmentStatusFilter | EnrollmentStatus,
       ?   consentAt?: DateTimeNullableFilter | DateTime | Null,
       ?   createdAt?: DateTimeFilter | DateTime,
       ?   updatedAt?: DateTimeFilter | DateTime,
       ?   patient?: PatientScalarRelationFilter | PatientWhereInput,
       ?   preset?: ConditionPresetScalarRelationFilter | ConditionPresetWhereInput,
       ?   clinician?: ClinicianNullableScalarRelationFilter | ClinicianWhereInput | Null,
       ?   observations?: ObservationListRelationFilter,
       ?   alerts?: AlertListRelationFilter,
       ?   timelogs?: TimeLogListRelationFilter,
       ?   messages?: MessageListRelationFilter
         },
         include: {
           patient: {
             include: {
               patientMedications: {
                 where: {
                   isActive: true
                 },
                 include: {
                   drug: true,
                   adherenceRecords: {
                     where: {
                       scheduledDate: {
                         gte: new Date("2025-09-19T07:16:02.756Z")
                       }
                     },
                     orderBy: {
                       scheduledDate: "desc"
                     }
                   }
                 }
               }
             }
           }
         }
       })

Argument `where` of type EnrollmentWhereUniqueInput needs at least one of `id` arguments. Available options are marked with ?.
    at Nn (/home/vsumup/pain-db/generated/prisma/runtime/library.js:32:1363)
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6911)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getEnrollmentMedicationSummary (/home/vsumup/pain-db/src/controllers/medicationEnrollmentController.js:92:24) {
  clientVersion: '6.16.2'
}
2025-09-26T07:16:04.176Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
Error fetching enrollment medication summary: PrismaClientValidationError: 
Invalid `prisma.enrollment.findUnique()` invocation in
/home/vsumup/pain-db/src/controllers/medicationEnrollmentController.js:92:48

  89 try {
  90   const { enrollmentId } = req.params;
  91 
â†’ 92   const enrollment = await prisma.enrollment.findUnique({
         where: {
           id: undefined,
       ?   AND?: EnrollmentWhereInput | EnrollmentWhereInput[],
       ?   OR?: EnrollmentWhereInput[],
       ?   NOT?: EnrollmentWhereInput | EnrollmentWhereInput[],
       ?   patientId?: UuidFilter | String,
       ?   presetId?: UuidFilter | String,
       ?   diagnosisCode?: StringFilter | String,
       ?   clinicianId?: UuidNullableFilter | String | Null,
       ?   startDate?: DateTimeFilter | DateTime,
       ?   endDate?: DateTimeNullableFilter | DateTime | Null,
       ?   status?: EnumEnrollmentStatusFilter | EnrollmentStatus,
       ?   consentAt?: DateTimeNullableFilter | DateTime | Null,
       ?   createdAt?: DateTimeFilter | DateTime,
       ?   updatedAt?: DateTimeFilter | DateTime,
       ?   patient?: PatientScalarRelationFilter | PatientWhereInput,
       ?   preset?: ConditionPresetScalarRelationFilter | ConditionPresetWhereInput,
       ?   clinician?: ClinicianNullableScalarRelationFilter | ClinicianWhereInput | Null,
       ?   observations?: ObservationListRelationFilter,
       ?   alerts?: AlertListRelationFilter,
       ?   timelogs?: TimeLogListRelationFilter,
       ?   messages?: MessageListRelationFilter
         },
         include: {
           patient: {
             include: {
               patientMedications: {
                 where: {
                   isActive: true
                 },
                 include: {
                   drug: true,
                   adherenceRecords: {
                     where: {
                       scheduledDate: {
                         gte: new Date("2025-09-19T07:16:04.176Z")
                       }
                     },
                     orderBy: {
                       scheduledDate: "desc"
                     }
                   }
                 }
               }
             }
           }
         }
       })

Argument `where` of type EnrollmentWhereUniqueInput needs at least one of `id` arguments. Available options are marked with ?.
    at Nn (/home/vsumup/pain-db/generated/prisma/runtime/library.js:32:1363)
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6911)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getEnrollmentMedicationSummary (/home/vsumup/pain-db/src/controllers/medicationEnrollmentController.js:92:24) {
  clientVersion: '6.16.2'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T07:17:40.614Z - GET /api/enrollments
2025-09-26T07:17:40.620Z - GET /api/patients
2025-09-26T07:17:40.633Z - GET /api/clinicians
2025-09-26T07:17:40.637Z - GET /api/condition-presets
2025-09-26T07:18:12.580Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376
2025-09-26T07:18:12.889Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
2025-09-26T07:18:12.891Z - GET /api/alerts
2025-09-26T07:18:16.505Z - GET /api/enrollments
2025-09-26T07:18:16.508Z - GET /api/patients
2025-09-26T07:18:16.510Z - GET /api/clinicians
2025-09-26T07:18:16.512Z - GET /api/condition-presets
2025-09-26T07:18:21.389Z - GET /api/patients/stats
2025-09-26T07:18:21.704Z - GET /api/clinicians/stats
2025-09-26T07:18:21.706Z - GET /api/alerts/stats
2025-09-26T07:18:21.709Z - GET /api/patients/recent
2025-09-26T07:18:21.712Z - GET /api/alerts/recent
Error fetching alert stats: PrismaClientKnownRequestError: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42601`. Message: `ERROR: syntax error at or near "$2"`
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:7268)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:398:27) {
  code: 'P2010',
  meta: { code: '42601', message: 'ERROR: syntax error at or near "$2"' },
  clientVersion: '6.16.2'
}
2025-09-26T07:18:23.070Z - GET /api/alerts/stats
Error fetching alert stats: PrismaClientKnownRequestError: 
Invalid `prisma.$queryRaw()` invocation:


Raw query failed. Code: `42601`. Message: `ERROR: syntax error at or near "$2"`
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:7268)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:398:27) {
  code: 'P2010',
  meta: { code: '42601', message: 'ERROR: syntax error at or near "$2"' },
  clientVersion: '6.16.2'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T07:19:31.958Z - GET /api/patients/stats
2025-09-26T07:19:31.987Z - GET /api/clinicians/stats
2025-09-26T07:19:31.995Z - GET /api/alerts/stats
2025-09-26T07:19:32.000Z - GET /api/patients/recent
2025-09-26T07:19:32.013Z - GET /api/alerts/recent
Error fetching alert stats: TypeError: Cannot set properties of undefined (setting 'open')
    at /home/vsumup/pain-db/src/controllers/alertController.js:429:28
    at Array.reduce (<anonymous>)
    at getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:428:38)
2025-09-26T07:19:33.258Z - GET /api/alerts/stats
Error fetching alert stats: TypeError: Cannot set properties of undefined (setting 'open')
    at /home/vsumup/pain-db/src/controllers/alertController.js:429:28
    at Array.reduce (<anonymous>)
    at getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:428:38)
2025-09-26T07:19:36.701Z - GET /api/patients
2025-09-26T07:19:38.278Z - GET /api/patients/stats
2025-09-26T07:19:38.291Z - GET /api/clinicians/stats
2025-09-26T07:19:38.300Z - GET /api/alerts/stats
2025-09-26T07:19:38.301Z - GET /api/patients/recent
2025-09-26T07:19:38.304Z - GET /api/alerts/recent
Error fetching alert stats: TypeError: Cannot set properties of undefined (setting 'open')
    at /home/vsumup/pain-db/src/controllers/alertController.js:429:28
    at Array.reduce (<anonymous>)
    at getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:428:38)
2025-09-26T07:19:39.323Z - GET /api/alerts/stats
Error fetching alert stats: TypeError: Cannot set properties of undefined (setting 'open')
    at /home/vsumup/pain-db/src/controllers/alertController.js:429:28
    at Array.reduce (<anonymous>)
    at getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:428:38)
2025-09-26T07:19:53.272Z - GET /api/patients
2025-09-26T07:19:55.072Z - GET /api/patients/stats
2025-09-26T07:19:55.388Z - GET /api/clinicians/stats
2025-09-26T07:19:55.390Z - GET /api/alerts/stats
2025-09-26T07:19:55.394Z - GET /api/patients/recent
2025-09-26T07:19:55.397Z - GET /api/alerts/recent
Error fetching alert stats: TypeError: Cannot set properties of undefined (setting 'open')
    at /home/vsumup/pain-db/src/controllers/alertController.js:429:28
    at Array.reduce (<anonymous>)
    at getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:428:38)
2025-09-26T07:19:56.733Z - GET /api/alerts/stats
Error fetching alert stats: TypeError: Cannot set properties of undefined (setting 'open')
    at /home/vsumup/pain-db/src/controllers/alertController.js:429:28
    at Array.reduce (<anonymous>)
    at getAlertStats (/home/vsumup/pain-db/src/controllers/alertController.js:428:38)
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T07:22:42.384Z - GET /api/patients
2025-09-26T07:22:52.179Z - GET /api/patients/stats
2025-09-26T07:22:52.493Z - GET /api/clinicians/stats
2025-09-26T07:22:52.496Z - GET /api/alerts/stats
2025-09-26T07:22:52.509Z - GET /api/patients/recent
2025-09-26T07:22:52.512Z - GET /api/alerts/recent
2025-09-26T07:23:00.295Z - GET /api/patients
2025-09-26T07:23:02.243Z - GET /api/patients/stats
2025-09-26T07:23:02.566Z - GET /api/clinicians/stats
2025-09-26T07:23:02.569Z - GET /api/alerts/stats
2025-09-26T07:23:02.571Z - GET /api/patients/recent
2025-09-26T07:23:02.576Z - GET /api/alerts/recent
2025-09-26T07:23:05.123Z - GET /api/clinicians
2025-09-26T07:23:08.445Z - GET /api/condition-presets
2025-09-26T07:23:08.447Z - GET /api/assessment-templates
2025-09-26T07:23:10.448Z - GET /api/metric-definitions
2025-09-26T07:23:10.759Z - GET /api/metric-definitions
2025-09-26T07:23:13.690Z - GET /api/assessment-templates
2025-09-26T07:23:13.691Z - GET /api/metric-definitions
2025-09-26T07:23:15.198Z - GET /api/observations
2025-09-26T07:23:17.756Z - GET /api/alerts
2025-09-26T07:23:19.698Z - GET /api/alert-rules
2025-09-26T07:23:20.014Z - GET /api/alert-rules/stats
2025-09-26T07:23:21.794Z - GET /api/enrollments
2025-09-26T07:23:21.816Z - GET /api/patients
2025-09-26T07:23:21.818Z - GET /api/clinicians
2025-09-26T07:23:21.819Z - GET /api/condition-presets
2025-09-26T07:23:36.055Z - GET /api/patients/stats
2025-09-26T07:23:36.385Z - GET /api/clinicians/stats
2025-09-26T07:23:36.388Z - GET /api/alerts/stats
2025-09-26T07:23:36.389Z - GET /api/patients/recent
2025-09-26T07:23:36.393Z - GET /api/alerts/recent
2025-09-26T07:23:38.905Z - GET /api/patients
2025-09-26T07:23:47.445Z - GET /api/patients/stats
2025-09-26T07:23:47.761Z - GET /api/clinicians/stats
2025-09-26T07:23:47.763Z - GET /api/alerts/stats
2025-09-26T07:23:47.766Z - GET /api/patients/recent
2025-09-26T07:23:47.768Z - GET /api/alerts/recent
2025-09-26T07:23:49.923Z - GET /api/alerts
2025-09-26T07:23:53.429Z - GET /api/patients/stats
2025-09-26T07:23:53.440Z - GET /api/clinicians/stats
2025-09-26T07:23:53.442Z - GET /api/alerts/stats
2025-09-26T07:23:53.445Z - GET /api/patients/recent
2025-09-26T07:23:53.451Z - GET /api/alerts/recent
2025-09-26T07:23:57.757Z - GET /api/patients
2025-09-26T07:24:07.252Z - GET /api/clinicians
2025-09-26T07:24:14.313Z - GET /api/condition-presets
2025-09-26T07:24:14.315Z - GET /api/assessment-templates
2025-09-26T07:24:21.391Z - GET /api/metric-definitions
2025-09-26T07:24:21.704Z - GET /api/metric-definitions
2025-09-26T07:24:29.048Z - GET /api/assessment-templates
2025-09-26T07:24:29.050Z - GET /api/metric-definitions
2025-09-26T07:24:35.755Z - GET /api/observations
2025-09-26T07:24:45.432Z - GET /api/alerts
2025-09-26T07:24:50.841Z - GET /api/alert-rules
2025-09-26T07:24:51.162Z - GET /api/alert-rules/stats
2025-09-26T07:24:55.229Z - GET /api/alert-rules/templates
2025-09-26T07:25:01.371Z - GET /api/alert-rules/templates
2025-09-26T07:26:57.120Z - GET /api/alerts
2025-09-26T07:27:05.122Z - GET /api/alert-rules
2025-09-26T07:27:05.123Z - GET /api/alert-rules/stats
2025-09-26T07:27:11.564Z - GET /api/alert-rules/templates
2025-09-26T07:28:55.184Z - GET /api/alerts
2025-09-26T07:28:58.226Z - GET /api/alert-rules
2025-09-26T07:28:58.229Z - GET /api/alert-rules/stats
2025-09-26T07:29:03.635Z - GET /api/alert-rules/templates
2025-09-26T07:29:13.980Z - GET /api/alert-rules/templates
2025-09-26T07:29:20.704Z - GET /api/enrollments
2025-09-26T07:29:21.039Z - GET /api/patients
2025-09-26T07:29:21.043Z - GET /api/clinicians
2025-09-26T07:29:21.048Z - GET /api/condition-presets
2025-09-26T07:29:25.618Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376
2025-09-26T07:29:25.638Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
2025-09-26T07:29:25.641Z - GET /api/alerts
2025-09-26T07:29:42.202Z - GET /api/drugs
2025-09-26T07:42:00.382Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376
2025-09-26T07:42:00.386Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
2025-09-26T07:42:00.388Z - GET /api/alerts
2025-09-26T07:42:26.712Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376
2025-09-26T07:42:26.722Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
2025-09-26T07:42:26.725Z - GET /api/alerts
2025-09-26T07:42:56.799Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376
2025-09-26T07:42:56.802Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
2025-09-26T07:42:56.806Z - GET /api/alerts
2025-09-26T07:43:04.475Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376
2025-09-26T07:43:04.504Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
2025-09-26T07:43:04.506Z - GET /api/alerts
2025-09-26T07:43:05.733Z - GET /api/enrollments
2025-09-26T07:43:05.752Z - GET /api/patients
2025-09-26T07:43:05.758Z - GET /api/clinicians
2025-09-26T07:43:06.056Z - GET /api/condition-presets
2025-09-26T07:43:08.081Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376
2025-09-26T07:43:08.098Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
2025-09-26T07:43:08.100Z - GET /api/alerts
2025-09-26T07:43:08.889Z - GET /api/observations
2025-09-26T07:43:12.689Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376
2025-09-26T07:43:12.691Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
2025-09-26T07:43:12.692Z - GET /api/alerts
2025-09-26T07:43:13.863Z - GET /api/metric-definitions
2025-09-26T07:43:19.830Z - GET /api/assessment-templates
2025-09-26T07:43:19.832Z - GET /api/metric-definitions
2025-09-26T07:52:56.753Z - GET /api/enrollments
2025-09-26T07:52:56.943Z - GET /api/patients
2025-09-26T07:52:56.946Z - GET /api/clinicians
2025-09-26T07:52:56.948Z - GET /api/condition-presets
2025-09-26T07:53:00.462Z - GET /api/assessment-templates
2025-09-26T07:53:00.778Z - GET /api/metric-definitions
2025-09-26T07:53:02.827Z - GET /api/enrollments
2025-09-26T07:53:02.828Z - GET /api/patients
2025-09-26T07:53:02.831Z - GET /api/clinicians
2025-09-26T07:53:02.833Z - GET /api/condition-presets
2025-09-26T07:53:06.431Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376
2025-09-26T07:53:06.754Z - GET /api/enrollments/f8544bc2-8088-4aba-9a4c-2ba9be049376/medications
2025-09-26T07:53:06.756Z - GET /api/alerts
2025-09-26T07:53:08.515Z - GET /api/assessment-templates
2025-09-26T07:53:08.516Z - GET /api/metric-definitions
2025-09-26T07:53:19.456Z - GET /api/alerts
2025-09-26T07:53:21.226Z - GET /api/alert-rules
2025-09-26T07:53:21.238Z - GET /api/alert-rules/stats
2025-09-26T08:05:39.321Z - GET /api/patients/stats
2025-09-26T08:05:39.330Z - GET /api/clinicians/stats
2025-09-26T08:05:39.333Z - GET /api/alerts/stats
2025-09-26T08:05:39.337Z - GET /api/patients/recent
2025-09-26T08:05:39.342Z - GET /api/alerts/recent
2025-09-26T08:05:41.433Z - GET /api/patients
2025-09-26T08:05:43.872Z - GET /api/clinicians
2025-09-26T08:05:45.376Z - GET /api/condition-presets
2025-09-26T08:05:45.682Z - GET /api/assessment-templates
2025-09-26T08:05:47.989Z - GET /api/metric-definitions
2025-09-26T08:05:47.992Z - GET /api/metric-definitions
2025-09-26T08:05:49.815Z - GET /api/assessment-templates
2025-09-26T08:05:50.124Z - GET /api/metric-definitions
2025-09-26T08:05:52.416Z - GET /api/observations
2025-09-26T08:05:54.321Z - GET /api/alerts
2025-09-26T08:05:56.446Z - GET /api/observations
2025-09-26T08:11:16.711Z - GET /api/observations
2025-09-26T08:11:32.115Z - GET /api/observations
2025-09-26T08:11:49.581Z - GET /api/observations
2025-09-26T08:12:45.945Z - GET /api/alerts
2025-09-26T08:12:47.788Z - GET /api/observations
2025-09-26T09:05:08.107Z - GET /api/observations
2025-09-26T09:05:16.664Z - GET /api/observations
2025-09-26T09:06:08.666Z - GET /api/observations
2025-09-26T09:06:12.566Z - GET /api/observations
2025-09-26T09:06:16.843Z - GET /api/observations
2025-09-26T09:06:19.893Z - GET /api/observations
2025-09-26T09:06:25.634Z - GET /api/observations
2025-09-26T09:06:25.812Z - GET /api/observations
2025-09-26T09:06:25.887Z - GET /api/observations
2025-09-26T09:06:25.996Z - GET /api/observations
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T09:51:12.775Z - GET /api/observations
2025-09-26T09:52:22.356Z - GET /api/assessment-templates
2025-09-26T09:52:22.534Z - GET /api/metric-definitions
2025-09-26T09:52:24.010Z - GET /api/alerts
2025-09-26T09:52:26.835Z - GET /api/alert-rules
2025-09-26T09:52:26.839Z - GET /api/alert-rules/stats
2025-09-26T09:52:37.179Z - GET /api/enrollments
2025-09-26T09:52:37.489Z - GET /api/patients
2025-09-26T09:52:37.498Z - GET /api/clinicians
2025-09-26T09:52:37.502Z - GET /api/condition-presets
2025-09-26T09:52:42.810Z - GET /api/assessment-templates
2025-09-26T09:52:42.811Z - GET /api/condition-presets
2025-09-26T09:52:44.593Z - GET /api/clinicians
2025-09-26T09:52:46.347Z - GET /api/patients
2025-09-26T09:52:47.800Z - GET /api/patients/stats
2025-09-26T09:52:48.116Z - GET /api/clinicians/stats
2025-09-26T09:52:48.118Z - GET /api/alerts/stats
2025-09-26T09:52:48.120Z - GET /api/patients/recent
2025-09-26T09:52:48.125Z - GET /api/alerts/recent
2025-09-26T09:58:26.058Z - GET /api/alerts
2025-09-26T09:58:29.292Z - GET /api/alert-rules
2025-09-26T09:58:29.613Z - GET /api/alert-rules/stats
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T10:25:36.545Z - GET /api/alert-rules
2025-09-26T10:25:36.558Z - GET /api/alert-rules/stats
2025-09-26T10:25:40.490Z - GET /api/patients
2025-09-26T10:25:41.814Z - GET /api/clinicians
2025-09-26T10:25:43.474Z - GET /api/condition-presets
2025-09-26T10:25:43.490Z - GET /api/assessment-templates
2025-09-26T10:25:49.336Z - GET /api/metric-definitions
2025-09-26T10:25:49.651Z - GET /api/metric-definitions
2025-09-26T10:25:54.337Z - GET /api/assessment-templates
2025-09-26T10:25:54.339Z - GET /api/metric-definitions
2025-09-26T10:25:59.233Z - GET /api/observations
2025-09-26T10:26:06.640Z - GET /api/alerts
2025-09-26T10:26:12.540Z - GET /api/patients
2025-09-26T10:26:15.903Z - GET /api/alerts
2025-09-26T10:26:20.791Z - GET /api/alert-rules
2025-09-26T10:26:21.113Z - GET /api/alert-rules/stats
2025-09-26T10:26:24.371Z - GET /api/enrollments
2025-09-26T10:26:24.373Z - GET /api/patients
2025-09-26T10:26:24.375Z - GET /api/clinicians
2025-09-26T10:26:24.378Z - GET /api/condition-presets
2025-09-26T10:26:26.291Z - GET /api/alert-rules
2025-09-26T10:26:26.609Z - GET /api/alert-rules/stats
2025-09-26T10:35:30.129Z - GET /api/enrollments
2025-09-26T10:35:30.132Z - GET /api/patients
2025-09-26T10:35:30.136Z - GET /api/clinicians
2025-09-26T10:35:30.139Z - GET /api/condition-presets
2025-09-26T10:35:43.540Z - GET /api/enrollments/95f65253-1488-418f-9908-71aabc7525eb
2025-09-26T10:35:43.859Z - GET /api/enrollments/95f65253-1488-418f-9908-71aabc7525eb/medications
2025-09-26T10:35:43.863Z - GET /api/alerts
2025-09-26T10:35:51.975Z - GET /api/enrollments
2025-09-26T10:35:51.978Z - GET /api/patients
2025-09-26T10:35:51.981Z - GET /api/clinicians
2025-09-26T10:35:51.986Z - GET /api/condition-presets
2025-09-26T10:36:44.023Z - GET /api/alert-rules
2025-09-26T10:36:44.334Z - GET /api/alert-rules/stats
2025-09-26T10:36:47.301Z - GET /api/enrollments
2025-09-26T10:36:47.302Z - GET /api/patients
2025-09-26T10:36:47.305Z - GET /api/clinicians
2025-09-26T10:36:47.307Z - GET /api/condition-presets
2025-09-26T10:36:49.260Z - GET /api/enrollments/95f65253-1488-418f-9908-71aabc7525eb
2025-09-26T10:36:49.597Z - GET /api/enrollments/95f65253-1488-418f-9908-71aabc7525eb/medications
2025-09-26T10:36:49.598Z - GET /api/alerts
2025-09-26T10:36:58.721Z - GET /api/enrollments
2025-09-26T10:36:58.732Z - GET /api/patients
2025-09-26T10:36:58.734Z - GET /api/clinicians
2025-09-26T10:36:58.737Z - GET /api/condition-presets
2025-09-26T10:37:01.690Z - GET /api/alert-rules
2025-09-26T10:37:01.999Z - GET /api/alert-rules/stats
2025-09-26T10:37:10.101Z - GET /api/alerts
2025-09-26T10:37:12.260Z - GET /api/observations
2025-09-26T10:37:14.666Z - GET /api/assessment-templates
2025-09-26T10:37:14.668Z - GET /api/metric-definitions
2025-09-26T10:37:37.011Z - GET /api/enrollments
2025-09-26T10:37:37.323Z - GET /api/patients
2025-09-26T10:37:37.325Z - GET /api/clinicians
2025-09-26T10:37:37.327Z - GET /api/condition-presets
2025-09-26T10:37:38.802Z - GET /api/enrollments/95f65253-1488-418f-9908-71aabc7525eb
2025-09-26T10:37:38.805Z - GET /api/enrollments/95f65253-1488-418f-9908-71aabc7525eb/medications
2025-09-26T10:37:38.806Z - GET /api/alerts
2025-09-26T10:37:39.996Z - GET /api/observations
2025-09-26T10:37:51.346Z - GET /api/alerts
2025-09-26T10:37:53.850Z - GET /api/assessment-templates
2025-09-26T10:37:54.170Z - GET /api/metric-definitions
2025-09-26T10:37:55.709Z - GET /api/metric-definitions
2025-09-26T10:37:55.712Z - GET /api/metric-definitions
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T10:46:42.512Z - GET /api/metric-definitions
2025-09-26T10:46:42.534Z - GET /api/metric-definitions
2025-09-26T10:49:23.554Z - GET /api/metric-definitions
2025-09-26T10:49:23.561Z - GET /api/metric-definitions
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T10:53:19.251Z - GET /api/metric-definitions
2025-09-26T10:53:19.266Z - GET /api/metric-definitions
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T11:24:11.431Z - GET /api/metric-definitions
2025-09-26T11:28:13.477Z - GET /api/metric-definitions
2025-09-26T11:28:13.490Z - GET /api/metric-definitions
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T11:30:20.810Z - GET /api/metric-definitions/templates/standardized
2025-09-26T11:30:20.898Z - GET /api/metric-definitions/templates/blood_glucose
2025-09-26T11:30:20.931Z - POST /api/metric-definitions/templates/create
Error creating metric from template: PrismaClientValidationError: 
Invalid `prisma.metricDefinition.create()` invocation in
/home/vsumup/pain-db/src/controllers/metricDefinitionController.js:133:53

  130   description: customizations?.description || template.description
  131 };
  132 
â†’ 133 const newMetric = await prisma.metricDefinition.create({
        data: {
          key: "blood_glucose_custom_1758886220934",
          displayName: "Blood Glucose (Test Custom)",
          valueType: "numeric",
          unit: "mg/dL",
          scaleMin: new Prisma.Decimal("50"),
          scaleMax: new Prisma.Decimal("400"),
          decimalPrecision: 0,
          coding: {
            primary: {
              code: "33747-0",
              system: "http://loinc.org",
              display: "Glucose [Mass/volume] in Blood by Glucometer"
            },
            mappings: {
              cpt: "82947",
              description: "Glucose; quantitative, blood (except urine)"
            },
            secondary: [
              {
                code: "33747-0",
                system: "http://snomed.info/sct",
                display: "Blood glucose measurement"
              }
            ]
          },
          validation: {
            max: 400,
            min: 50,
            type: "integer",
            criticalLow: 70,
            criticalHigh: 250
          },
          options: null,
          defaultFrequency: "daily",
          requiredDefault: true,
          description: "Test metric created from standardized template",
          ~~~~~~~~~~~
      ?   id?: String,
      ?   localeOverrides?: NullableJsonNullValueInput | Json,
      ?   version?: Int,
      ?   activeFrom?: DateTime,
      ?   activeTo?: DateTime | Null,
      ?   createdAt?: DateTime,
      ?   updatedAt?: DateTime,
      ?   templateItems?: AssessmentTemplateItemCreateNestedManyWithoutMetricDefinitionInput,
      ?   observations?: ObservationCreateNestedManyWithoutMetricDefinitionInput
        }
      })

Unknown argument `description`. Available options are marked with ?.
    at Nn (/home/vsumup/pain-db/generated/prisma/runtime/library.js:32:1363)
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6911)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async createFromTemplate (/home/vsumup/pain-db/src/controllers/metricDefinitionController.js:133:23) {
  clientVersion: '6.16.2'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T11:34:42.495Z - GET /api/metric-definitions/templates/standardized
2025-09-26T11:34:42.577Z - GET /api/metric-definitions/templates/blood_glucose
2025-09-26T11:34:42.595Z - POST /api/metric-definitions/templates/create
2025-09-26T11:34:42.621Z - DELETE /api/metric-definitions/3a2f14e3-5d38-4f53-9f76-dca4c25dc43f
Error deleting metric definition: PrismaClientValidationError: 
Invalid `prisma.metricDefinition.findUnique()` invocation in
/home/vsumup/pain-db/src/controllers/metricDefinitionController.js:533:58

  530 const { id } = req.params;
  531 const { permanent = false } = req.query;
  532 
â†’ 533 const existingMetric = await prisma.metricDefinition.findUnique({
        where: {
          id: 3
              ~
        },
        include: {
          _count: {
            select: {
              observations: true
            }
          }
        }
      })

Argument `id`: Invalid value provided. Expected String, provided Int.
    at Nn (/home/vsumup/pain-db/generated/prisma/runtime/library.js:32:1363)
    at ei.handleRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6911)
    at ei.handleAndLogRequestError (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6593)
    at ei.request (/home/vsumup/pain-db/generated/prisma/runtime/library.js:124:6300)
    at async a (/home/vsumup/pain-db/generated/prisma/runtime/library.js:133:9551)
    at async deleteMetricDefinition (/home/vsumup/pain-db/src/controllers/metricDefinitionController.js:533:28) {
  clientVersion: '6.16.2'
}
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node index.js`[39m
ðŸš€ Pain-DB API Server running on port 3000
ðŸ“Š Health check: http://localhost:3000/health
ðŸ“– API info: http://localhost:3000/api
2025-09-26T11:36:52.619Z - GET /api/metric-definitions/templates/standardized
2025-09-26T11:36:52.719Z - GET /api/metric-definitions/templates/blood_glucose
2025-09-26T11:36:52.741Z - POST /api/metric-definitions/templates/create
2025-09-26T11:36:52.764Z - DELETE /api/metric-definitions/a9b1ac6b-397c-4b70-abbe-dbc5a28a4df9
2025-09-26T11:37:49.605Z - GET /api/metric-definitions
2025-09-26T11:37:49.612Z - GET /api/metric-definitions
2025-09-26T11:38:57.893Z - GET /api/assessment-templates
2025-09-26T11:38:58.070Z - GET /api/metric-definitions
2025-09-26T11:39:02.987Z - GET /api/observations
2025-09-26T11:39:05.654Z - GET /api/alerts
2025-09-26T11:39:07.424Z - GET /api/alert-rules
2025-09-26T11:39:07.734Z - GET /api/alert-rules/stats
2025-09-26T11:39:10.118Z - GET /api/enrollments
2025-09-26T11:39:10.128Z - GET /api/patients
2025-09-26T11:39:10.138Z - GET /api/clinicians
2025-09-26T11:39:10.140Z - GET /api/condition-presets
2025-09-26T11:39:12.943Z - GET /api/enrollments/95f65253-1488-418f-9908-71aabc7525eb
2025-09-26T11:39:13.255Z - GET /api/enrollments/95f65253-1488-418f-9908-71aabc7525eb/medications
2025-09-26T11:39:13.259Z - GET /api/alerts
2025-09-26T11:39:16.764Z - GET /api/patients/stats
2025-09-26T11:39:16.766Z - GET /api/clinicians/stats
2025-09-26T11:39:16.771Z - GET /api/alerts/stats
2025-09-26T11:39:16.775Z - GET /api/patients/recent
2025-09-26T11:39:16.779Z - GET /api/alerts/recent
